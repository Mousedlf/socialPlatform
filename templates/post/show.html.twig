{% extends 'base.html.twig' %}

{% block title %}Hello PostController!{% endblock %}

{% block body %}

    <h1>Post</h1>


        <h4>{{ post.title }}</h4>
        <p>{{ post.content }}</p>
        <p class="text-secondary">{{ post.createdAt|date('H:s - d/m/Y') }}</p>

    <a href="{{ path('delete_post', {id:post.id}) }}">remove</a>
    <a href="{{ path('edit_post', {id:post.id}) }}">edit</a>

    <a href="{{ path('app_posts', {id:post.id}) }}">retour</a>


    <h2>Comments</h2>
    {% for comment in post.comments %}

        <div class="d-flex">
            <p>{{ comment.content }}</p>
            <p class="text-secondary">{{ comment.createdAt|date('H:s - d/m/Y') }}</p>

            <a href="{{ path('delete_comment', {id:comment.id}) }}">remove</a>
            <a href="{{ path('edit_comment', {id:comment.id}) }}">edit</a>
        </div>

    {% endfor %}

    <h3>Write a comment</h3>
    {{ form_start(formComment,{'action':path('create_comment',{id:post.id})}) }}
    {{ form_row(formComment.content) }}
    <button type="submit">send</button>
    {{ form_end(formComment) }}


{% endblock %}
